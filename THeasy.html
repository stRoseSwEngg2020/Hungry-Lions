<html>
<head>
<title>Treasure Hunt - Easy Mode</title>
<script>
	var easyGrid = 
   [['*', '*', '*', '*', '*'],
  	['*', '*', '*', '*', '*'],
  	['*', '*', '*', '*', '*'],
  	['*', '*', '*', '*', '*'],
  	['*', '*', '*', '*', '*']];
	var plrposR = 2;
	var plrposC = 2;

function Begin(easyGrid){
  plrposR = 2;
	plrposC = 2;
  document.getElementById("health").value = 100;
  document.getElementById("moves").value = 0;
  
  for (var p = 0; p < 5; p++) {
	  for (var q = 0; q < 5; q++) {
				easyGrid[p][q] = "*";
			}
		}
	
  for (var g = 0; g < 2; g++) {
				var FPA = Math.floor(Math.random() * 5);
				var FPB = Math.floor(Math.random() * 5);
				
				easyGrid[FPA][FPB] = '[ ]';
        easyGrid[FPA][FPB+1] = '[ ]';
        easyGrid[FPA+1][FPB] = '[ ]';
        easyGrid[FPA+1][FPB+1] = '[ ]';
			}
  
  easyGrid[2][2] = ":)";
  document.getElementById("2-2").innerHTML = ":)";
  
  var goodPlace = false;
		while (goodPlace == false) {
			var TrezA = Math.floor(Math.random() * 5);
			var TrezB = Math.floor(Math.random() * 5);
			
			if (easyGrid[TrezA][TrezB] == "*") {
				easyGrid[TrezA][TrezB] = "[$]";
				goodPlace = true;
			}
		}
  
  for (var p = 0; p < 5; p++) {
	  for (var q = 0; q < 5; q++) {
      if (easyGrid[p][q] == ":)" || easyGrid[p][q] == "[ ]"){
          document.getElementById(p + "-" + q).innerHTML = easyGrid[p][q];
        } else {
          document.getElementById(p + "-" + q).innerHTML = "?";
        }
			}
		}
  button = document.getElementById('begin');
  button.parentNode.removeChild(button);
  document.getElementById('west').disabled = false;
	document.getElementById('north').disabled = false;
	document.getElementById('south').disabled = false;
	document.getElementById('east').disabled = false;
}

function goNorth(easyGrid){
	if (plrposR == 0){
		alert("(!) CAUTION: Do not leave the grid!");
	} else{
		easyGrid[plrposR][plrposC] = "[ ]";
		document.getElementById(plrposR + "-" + plrposC).innerHTML = "[ ]";
		if (easyGrid[plrposR-1][plrposC] == "[$]"){
			document.getElementById((plrposR-1) + "-" + plrposC).innerHTML = "[$]";
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			alert("Treasure Found! Level Complete!");
      calculateScore();
      Crlevel = document.getElementById('level');
      Crlevel.value = parseInt(Crlevel.value) + 1;
			Victory();
		}
		if (easyGrid[plrposR-1][plrposC] == "*"){
			Crhealth = document.getElementById('health');
  		Crhealth.value = parseInt(Crhealth.value) - 5;
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			if (Crhealth.value == 0){
				alert("You exploded! GAME OVER");
				document.getElementById('west').disabled = "disabled";
				document.getElementById('north').disabled = "disabled";
				document.getElementById('south').disabled = "disabled";
				document.getElementById('east').disabled = "disabled";
			}
			easyGrid[plrposR-1][plrposC] = ":)";
			document.getElementById((plrposR-1) + "-" + plrposC).innerHTML = ":)";
		}
		if (easyGrid[plrposR-1][plrposC] == "[ ]"){
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			easyGrid[plrposR-1][plrposC] = ":)";
			document.getElementById((plrposR-1) + "-" + plrposC).innerHTML = ":)";
		}
    plrposR -= 1
	}
}

function goSouth(easyGrid){
	if (plrposR == 4){
		alert("(!) CAUTION: Do not leave the grid!");
	} else{
		easyGrid[plrposR][plrposC] = "[ ]";
		document.getElementById(plrposR + "-" + plrposC).innerHTML = "[ ]";
		if (easyGrid[plrposR+1][plrposC] == "[$]"){
			document.getElementById((plrposR+1) + "-" + plrposC).innerHTML = "[$]";
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			alert("Treasure Found! Level Complete!");
      calculateScore();
      Crlevel = document.getElementById('level');
      Crlevel.value = parseInt(Crlevel.value) + 1;
      Victory();
		}
		if (easyGrid[plrposR+1][plrposC] == "*"){
			Crhealth = document.getElementById('health');
  		Crhealth.value = parseInt(Crhealth.value) - 5;
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			if (Crhealth.value == 0){
				alert("You exploded! GAME OVER");
				document.getElementById('west').disabled = "disabled";
				document.getElementById('north').disabled = "disabled";
				document.getElementById('south').disabled = "disabled";
				document.getElementById('east').disabled = "disabled";
			}
			easyGrid[plrposR+1][plrposC] = ":)";
			document.getElementById((plrposR+1) + "-" + plrposC).innerHTML = ":)";
		}
		if (easyGrid[plrposR+1][plrposC] == "[ ]"){
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			easyGrid[plrposR+1][plrposC] = ":)";
			document.getElementById((plrposR+1) + "-" + plrposC).innerHTML = ":)";
		}
    plrposR += 1
	}
}
	
function goWest(easyGrid){
	if (plrposC == 0){
		alert("(!) CAUTION: Do not leave the grid!");
	} else{
		easyGrid[plrposR][plrposC] = "[ ]";
		document.getElementById(plrposR + "-" + plrposC).innerHTML = "[ ]";
		if (easyGrid[plrposR][plrposC-1] == "[$]"){
			document.getElementById(plrposR + "-" + (plrposC-1)).innerHTML = "[$]";
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			alert("Treasure Found! Level Complete!");
      calculateScore();
      Crlevel = document.getElementById('level');
      Crlevel.value = parseInt(Crlevel.value) + 1;
			Victory();
		}
		if (easyGrid[plrposR][plrposC-1] == "*"){
			Crhealth = document.getElementById('health');
  		Crhealth.value = parseInt(Crhealth.value) - 5;
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			if (Crhealth.value == 0){
				alert("You exploded! GAME OVER");
				document.getElementById('west').disabled = "disabled";
				document.getElementById('north').disabled = "disabled";
				document.getElementById('south').disabled = "disabled";
				document.getElementById('east').disabled = "disabled";
			}
			easyGrid[plrposR][plrposC-1] = ":)";
			document.getElementById(plrposR + "-" + (plrposC-1)).innerHTML = ":)";
		}
		if (easyGrid[plrposR][plrposC-1] == "[ ]"){
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			easyGrid[plrposR][plrposC-1] = ":)";
			document.getElementById(plrposR + "-" + (plrposC-1)).innerHTML = ":)";
		}
    plrposC -= 1
	}
}
	
function goEast(easyGrid){
	if (plrposC == 4){
		alert("(!) CAUTION: Do not leave the grid!");
	} else{
		easyGrid[plrposR][plrposC] = "[ ]";
		document.getElementById(plrposR + "-" + plrposC).innerHTML = "[ ]";
		if (easyGrid[plrposR][plrposC+1] == "[$]"){
			document.getElementById(plrposR + "-" + (plrposC+1)).innerHTML = "[$]";
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			alert("Treasure Found! Level Complete!");
      calculateScore();
      Crlevel = document.getElementById('level');
      Crlevel.value = parseInt(Crlevel.value) + 1;
			Victory();
		}
		if (easyGrid[plrposR][plrposC+1] == "*"){
			Crhealth = document.getElementById('health');
  		Crhealth.value = parseInt(Crhealth.value) - 5;
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			if (Crhealth.value == 0){
				alert("You exploded! GAME OVER");
				document.getElementById('west').disabled = "disabled";
				document.getElementById('north').disabled = "disabled";
				document.getElementById('south').disabled = "disabled";
				document.getElementById('east').disabled = "disabled";
			}
			easyGrid[plrposR][plrposC+1] = ":)";
			document.getElementById(plrposR + "-" + (plrposC+1)).innerHTML = ":)";
		}
		if (easyGrid[plrposR][plrposC+1] == "[ ]"){
			Crmoves = document.getElementById('moves');
			Crmoves.value = parseInt(Crmoves.value) + 1;
			easyGrid[plrposR][plrposC+1] = ":)";
			document.getElementById(plrposR + "-" + (plrposC+1)).innerHTML = ":)";
		}
    plrposC += 1
	}
}
  
function calculateScore(){
  var HP = document.getElementById('health').value * 2;
  var moves = Math.floor(document.getElementById('moves').value / 2);
  var newScore = 500 + HP - moves
  var oldScore = document.getElementById('score');
  oldScore.value = parseInt(oldScore.value) + newScore;
  alert("Level Score: " + newScore);
}
  
function Victory(){
  Crlevel = document.getElementById('level');
  if (Crlevel.value == 4){
    alert("YOU WIN!  Final Score: " + document.getElementById('score').value);
    document.getElementById('level').value = "GAME OVER!";
    document.getElementById('west').disabled = "disabled";
		document.getElementById('north').disabled = "disabled";
		document.getElementById('south').disabled = "disabled";
		document.getElementById('east').disabled = "disabled";
  } else {
    Begin(easyGrid);
  }
}
  
function QUIT(){
	window.location.href = './homepage.php'
}
	
</script>
<body bgColor=DeepSkyBlue>
<font size="+2">
<center>
<h2>Easy Mode</h2>
<input onclick="Begin(easyGrid)" style="font-size : 40px;" type="button" id="begin" value="START!"><p></p>

<b>LEVEL:</b>
<input style="font-size : 20px;" type="text" disabled="disabled" id="level" value="1"><p></p>
<b>Health:</b>
<input style="font-size : 20px;" type="text" disabled="disabled" id="health" value="100"><p></p>
<b>Moves:</b>
<input style="font-size : 20px;" type="text" disabled="disabled" id="moves" value="0">
  
<table border = "9", cellspacing="0" style="font-size : 50px;">
<tr>
<td id="0-0", align="center">-</td>
<td id="0-1", align="center">-</td>
<td id="0-2", align="center">-</td>
<td id="0-3", align="center">-</td>
<td id="0-4", align="center">-</td>
</tr>
<tr>
<td id="1-0", align="center">~</td>
<td id="1-1", align="center">~</td>
<td id="1-2", align="center">~</td>
<td id="1-3", align="center">~</td>
<td id="1-4", align="center">~</td>
</tr>
<tr>
<td id="2-0", align="center">-</td>
<td id="2-1", align="center">-</td>
<td id="2-2", align="center">-</td>
<td id="2-3", align="center">-</td>
<td id="2-4", align="center">-</td>
</tr>
<tr>
<td id="3-0", align="center">~</td>
<td id="3-1", align="center">~</td>
<td id="3-2", align="center">~</td>
<td id="3-3", align="center">~</td>
<td id="3-4", align="center">~</td>
</tr>
<tr>
<td id="4-0", align="center">-</td>
<td id="4-1", align="center">-</td>
<td id="4-2", align="center">-</td>
<td id="4-3", align="center">-</td>
<td id="4-4", align="center">-</td>
</tr>
</table>
	
<input onclick="goWest(easyGrid)" style="font-size : 20px;" type="button" id="west" value="<" disabled="disabled">
<input onclick="goNorth(easyGrid)" style="font-size : 20px;" type="button" id="north" value="^" disabled="disabled">
<input onclick="goSouth(easyGrid)" style="font-size : 20px;" type="button" id="south" value="v" disabled="disabled">
<input onclick="goEast(easyGrid)" style="font-size : 20px;" type="button" id="east" value=">" disabled="disabled"><p></p>
<b>Score:</b>
<input style="font-size : 20px;" type="text" disabled="disabled" id="score" value="0">
<input onclick="QUIT()" style="font-size : 50px; color: blue;" type="button" id="quit" value="Quit and Upload Score">
</center>

<p>Rules/Tutorial:</p>
<p>-You are an explorer trying to find long lost treasure underground.</p>
<p>-You must traverse a 2-D grid until you find the treasure or run out of health points, shown above.</p>
<p>-":)" marks where you are currently standing on the grid.</p>
<p>-"?" represents unexplored territory. You might find the treasure...or get exploded by a bomb instead! You will lose HP if you land on a trap.</p>
<p>-A "?" space turns into a free space after you land on it.</p>
<p>-[ ] marks a free space. You can traverse these without losing health.</p>
<p>-[$] the treasure is hidden in a random "?" space and will NEVER appear in a free space.</p>
<p>-Click the arrow buttons to move in their respective directions.</p>
<p>-Click 'Quit Game' to stop playing and return to the menu.</p>
</body>
</html>
